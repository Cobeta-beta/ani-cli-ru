# anicli-ru
___
Небольшой скрипт для поиска и просмотра аниме из терминала с русской озвучкой для *unix систем, написанный на python.

Парсит аниме с сайта [animego.org](https://animego.org/) 

Видеоплеер kodik **не поддерживает**, так как у него запросы с видео шифруется **AES**, 
поэтому не все сериалы в нужном дубляже получится посмотреть.
___
# Dependencies:
* mpv или видеоплеер, поддерживающий __hls__ и __cli__ команды
* python 3.5+
* requests
___
# Install:

```
git clone https://github.com/vypivshiy/ani-cli-ru.git
cd ani-cli-ru
sudo make
```
___
# Usage:
`anicli-ru`
___
# Commands:
```
q [q]uit - выход из программы
b [b]ack next step - возвратиться на предыдущий шаг
h [h]elp - вывод списка доступных команд
c [c]lear - очистить консоль
o [o]ngoing print - напечатать недавно вышедшие онгоинги
r [r]andom title - выбрать случайное аниме и напечатать доступные эпизоды (через эндпоинт сайта)
```
# Optional arguments:
**-p --proxy** - опциональный аргумент на установку прокси. Если просмотр аниме (или некоторых тайтлов) 
запрещен в вашей стране, то это поможет обойти ограничения (Только на получение видеоплеера, сама загрузка видео будет 
идти без прокси)

Пример ввода прокси:
    
    anicli-ru --proxy https://192.168.0.1:8080  # HTTPS
    
    anicli-ru --proxy socks4://192.168.0.1:8888  # SOCKS4
    
    anicli-ru --proxy socks5://192.168.0.1:8888  # SOCKS5

**-v --videoplayer** - опциональный аргумент выбора видеоплеера. По умолчанию mpv

**-hc --headers-command** - опциональный аргумент команды установки заголовка headers в выбранном плеере.
По умолчанию --http-header-fields (как в mpv)
___
![test](https://i.imgur.com/BgUS2GO.png)
___
# ROADMAP:

- [x] добавить поддержку proxy;
- [x] ~~выбор качества видео;~~ Только sibnet поддерживает смену качества, 
на данный момент будет по умолчанию самое высокое.
- [x] вывод вышедших на сегодняшнюю дату онгоингов;
- [ ] добавление фич
- [ ] рефакторинг логики работы меню
- [ ] добавить дополнительные команды управления через argparser
___
Для использования скрипта в windows необходимо установить python 3.6+ версии 
~~и заменить в коде плеер, например, на vlc~~ 
передать нужные аргументы видеоплеера и команду установки headers. 

Тест на другой видеоплеер провален, vlc с параметром http-referrer возвращает ошибку 403