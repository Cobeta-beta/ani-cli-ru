# anicli-ru

___
Скрипт для поиска и просмотра аниме из терминала с русской озвучкой или субтитрами для linux систем, 
написанный на python.

> !!! Этот проект в стадии разработки, 
> стабильность не гарантируется и на данный момент только доступен `animego`

## Установка

**Рекомендуется использовать pipx**

```shell
pipx install git+https://github.com/vypivshiy/ani-cli-ru.git@dev 
```

## Usage:
```shell
# да, дополнительные ключи запуска пока отсутствуют 
anicli-ru

```

> у вас должен быть установлен `mpv` плеер

---
Отличия от старой версии (кроме как переписан):

- [Api интерфейс парсера](https://github.com/vypivshiy/anicli-api/tree/dev) и Cli клиента 
разделены в отдельные репозитории. Если вам нужны только парсеры - пользуйтесь!
- http клиент заменен с requests на httpx с включенным по умолчанию http2 протоколом. Добавлены async методы.
- парсеры работают в связке `httpx`, `parsel`, `chompjs` вместо bs4 с чистыми регулярными выражениями (как в yt-dlp)
- Использует экспериментальную обёртку [scrape-schema](https://github.com/vypivshiy/scrape-schema) для 
повышения ремонтопригодности, консистентности, читабельности и переиспользуемости кода 
~~если вы знаете что такое css, xpath серекторы и parsel~~.
- Клиент основан на prompt-toolkit, реализована надстройка [eggella](https://github.com/vypivshiy/eggella) - 
архитектура схожа с flask и фреймворками чат ботов (aiogram, discord.py, ...))


## Roadmap
-[x] минимальная реализация
-[ ] выбор источника
-[ ] http сервер-прослойка для передачи видео в плееры отличные от mpv (для обхода отсутствия 
аргументов настройки заголовков как в vlc, например)
-[ ] конфигурация http клиента (прокси, таймаут)
-[ ] кеширование
-[ ] синхронизация с shikimori
-[ ] поиск и переключение по нескольким источникам в одной сессии (без перезапуска)
-[ ] конфигурация приложения
-[ ] система плагинов, кастомизация (?)
